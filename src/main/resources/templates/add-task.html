<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Tasks Management System</title>

    <!-- Bootstrap core CSS -->
    <link th:rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}"/>
    <!-- Custom styles for this template -->
    <link th:rel="stylesheet" th:href="@{/styles/signin.css}"/>

</head>

<h2><span th:text="${appName}"></span></h2>

<div class="form-outline">
<form action="#" th:action="@{/addtask}" th:object="${task}" method="post" class="form-signin">
    <label for="name">Name</label>
    <input type="text" th:field="*{name}" id="name" placeholder="Name..." class="form-control" >
    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
    <br>
    <label for="name">Description</label>
    <textarea rows="4" th:field="*{description}" id="description" name="description" class="form-control" ></textarea>
    <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
    <br>
    <!-- Submit button -->
    <button type="submit" class="btn btn-primary btn-block">Add</button>
</form>
</div>
<br><br>
<div class="container">
    <footer class="bg-light text-center text-lg-start">
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            <p><a th:href="@{/index}">Go to main page</a></p>
        </div>

        <div sec:authorize="isAuthenticated()">
            Logged user name: <span sec:authentication="name">Best employee!</span>
            <br>
            Use roles: <span sec:authentication="principal.authorities">[ROLE_USER, ROLE_LEADER, ROLE_ADMIN]</span>
            <br>
        </div>
    </footer>
</div>

<script src="/bootstrap/js/bootstrap.min.js"></script>

</body>
</html>